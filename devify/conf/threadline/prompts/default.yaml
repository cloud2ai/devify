# Default prompts and shared snippets
# Shared snippets can be referenced in prompts using {variable_name}

shared:
  zh-CN:
    image_placeholder: "[IMAGE: filename.png]"
    output_requirements: "对话文本必须为纯文本（不包括表情符号、特殊字符等），结构清晰。不改变任何原始含义并保留所有信息。输出必须是结构良好、层次清晰的纯文本，不包含任何额外的解释、摘要或多余内容。"
    content_processing: "完全保留和描述所有内容，不遗漏任何信息。必要时使用Markdown格式处理代码或引用内容（例如，``` 用于代码块，> 用于引用）。"

  en-US:
    image_placeholder: "[IMAGE: filename.png]"
    output_requirements: "Conversation text must be plain text (excluding emojis, special characters, etc.) with clear structure. Without altering any original meaning and retaining all information. Output must be well-structured, hierarchically clear plain text, without any additional explanations, summaries, or extra content."
    content_processing: "Fully retain and describe all content without omission. Using Markdown formatting when necessary for code or quoted content (e.g., ``` for code blocks, > for quotes)."

  es:
    image_placeholder: "[IMAGE: filename.png]"
    output_requirements: "El texto de la conversación debe ser texto plano (excluyendo emojis, caracteres especiales, etc.) con estructura clara. Sin alterar ningún significado original y conservando toda la información. La salida debe ser texto plano bien estructurado y jerárquicamente claro, sin explicaciones adicionales, resúmenes o contenido extra."
    content_processing: "Conservar y describir completamente todo el contenido sin omisiones. Usar formato Markdown cuando sea necesario para código o contenido citado (por ejemplo, ``` para bloques de código, > para citas)."

# Common prompts (language-agnostic)
# These prompts are used for all languages and use {language} variable for output language control
common:
  email_content_prompt: |
    Please output in {language}.

    Your task is to organize the provided content — which may include email threads, chat logs, or message exchanges — into a standardized Markdown-formatted conversation for archival and easy reference.
    Ensure the output preserves all original information while presenting it in a clean, consistent, and chronological structure (from the earliest to the latest).
    Apply minimal editing only to improve readability, and clearly mark any assumptions.

    Output Format (Markdown):

    Each message must strictly follow this format:

    - Speaker (Date Time)
    Message content

    Additional rules:

    Date and Time
    - If the date is unknown, display only the time.
    - If known, include both date and time in a consistent format (e.g., 2025-10-22 14:05).

    Images
    - Use placeholders in the format [IMAGE: filename.png], placed on a separate line in their original position.

    Plain Text Only
    - The conversation must contain plain text only (no emojis, markdown decorations, or special characters).

    No Additional Commentary
    - Do not include explanations, analysis, or summaries outside of the formatted conversation.

  ocr_prompt: |
    Please output in {language}.

    Your task is to UNDERSTAND and DESCRIBE the key information from OCR-recognized content using clear, natural language. Analyze the OCR text to extract meaningful information, important data points, and critical details, then present them in a structured and readable format.

    Task Objectives:

    Understand and Extract Key Information
    - Analyze the OCR content to understand its meaning and context.
    - Identify key information: important data points, values, statuses, actions, and events.
    - Extract relevant details: numbers, dates, names, locations, errors, warnings, configurations, etc.
    - Recognize the type of content: screenshots, documents, forms, logs, error messages, etc.
    - Understand relationships between different pieces of information (causes, effects, sequences, etc.).

    Describe Key Information Clearly
    - Present extracted information in natural, fluent language appropriate for {language}.
    - Organize information logically (by importance, timeline, category, etc.).
    - Use clear, descriptive sentences that convey the meaning and context.
    - For technical content: explain what it means, not just what it says.
    - For UI screenshots: describe what is shown (controls, states, data) and their significance.
    - For error messages: explain the error, its context, and potential causes.
    - For forms/data: extract and describe the key fields and values.

    Maintain Accuracy and Completeness
    - All specific values (numbers, codes, timestamps, IDs) must be preserved exactly as they appear.
    - Keep proper nouns, technical terms, and brand names in their original language, especially English terms (e.g., "CPU", "AWS", "Kubernetes", "Error 404", "Save", "Cancel").
    - For English proper nouns, technical terms, or key phrases: keep them in English, but you may add translations in parentheses when helpful for understanding.
      Example: "OpenAI API (OpenAI 应用程序接口)" or "Error 404 Not Found (错误 404 未找到)"
      Example: "Save Button (保存按钮)" or "User Profile (用户配置文件)"
    - Translations in parentheses are optional and should only be added when they enhance understanding in the target language.
    - When output language is English, keep all terms in English without translation parentheses.
    - Include all relevant key information; do not omit important details.
    - If OCR text is unclear or ambiguous, describe what can be determined and mark uncertain parts.
    - Correct obvious OCR errors only when the correct value is clear from context.

    Output Format
    - Start with a brief overview of what the content is (e.g., "Screenshot showing...", "Error message indicating...", "Form containing...").
    - Then describe the key information in a structured, paragraph-based format.
    - Use clear headings or sections if the content has multiple distinct parts.
    - For lists/tables: extract and describe the key items and their relationships.
    - For logs: identify and describe significant events, errors, or patterns.
    - For UI elements: describe their states, values, and any important interactions visible.

    Content Filtering (Use Extreme Caution)
    - Only omit content that is CLEARLY and OBVIOUSLY irrelevant with 100% certainty.
    - Examples of clearly irrelevant content (safe to omit):
      * Pure decorative elements (repeated logos, background patterns, non-functional graphics)
      * Redundant repeated text that adds no new information (same text appearing 3+ times identically)
      * Generic UI chrome that is identical across all instances (standard window borders, scroll bars)
    - Examples of content to ALWAYS KEEP (even if seems minor):
      * Any text with numbers, codes, IDs, timestamps, or identifiers
      * Status indicators, warning messages, error codes, or alerts
      * Button labels, menu items, or options (even if standard UI)
      * Field names, labels, or captions in forms or interfaces
      * Any text that might indicate context, state, or configuration
      * Page numbers, version numbers, or metadata
      * Tooltips, hints, or help text
    - When in doubt, ALWAYS INCLUDE rather than omit. It is better to include potentially irrelevant content than to risk losing important information.
    - If you are uncertain whether content is relevant, err on the side of inclusion and describe it.
    - Remember: What seems irrelevant in isolation might be crucial context when combined with other information.

    Critical Rules
    - Focus on MEANING and CONTEXT, not just raw text extraction.
    - Extract and DESCRIBE key information rather than just copying OCR text.
    - Use natural language that a human would understand without seeing the original image.
    - Prioritize important information while being extremely cautious about omitting anything.
    - If content is technical, provide explanations that make it accessible.
    - Be concise but comprehensive - cover all important points without unnecessary verbosity.
    - When filtering content, apply the principle: "When uncertain, include and describe."

  summary_title_prompt: |
    Please output in {language}.

    Extract a single concise title from the provided chat records.

    Requirements:
    - The title must accurately capture the core topic, problem, or discussion point
    - Use clear, specific language. Avoid vague terms
    - Maximum length: 200 characters
    - If multiple topics exist, extract only the most critical and central one
    - Generate only the title text without any prefixes, tags, or brackets
    - Do not add explanations, summaries, or any additional text

  summary_prompt: |
    Please output in {language}.

    You are a professional conversation summarization assistant. Based on the provided chat records, email content, and OCR-recognized text, create a structured summary following the specified logic. When summarizing, must highlight and clearly mark key elements such as time, location, and people, ensuring these core information items are visible in tag organization and topic summarization. Strictly adhere to the following rules:

    Task Description:
    - Extract information precisely from the provided conversation or email content.
    - Present information in a structured format, focusing on the core topics, key processes, and TODO items of the conversation.
    - Maintain professionalism and conciseness, without adding any extra explanations or summaries.
    - Focus on extracting the three core information types: time (when), location (where), and people (who). Time includes specific dates, time ranges, or time points; location includes specific places, venues, regions, or environments; people includes participants, responsible persons, and relevant parties involved.

    Output Rules:
    1. Language: Must output in {language}. All content including section headings, titles, and text must be in {language}.
    2. Format: Strictly use Markdown.
    3. Content: Must include exactly the following three sections with Markdown headings in {language}:
       - Section 1 heading: Translate "Core Topic" to {language}, ensuring the translation follows natural language expression conventions and sounds natural to native speakers. Summarize the core theme, discussion focus, or problem to be resolved in one sentence. Must include key people, location, and time.
       - Section 2 heading: Translate "TODO" (or equivalent like "待办事项" in Chinese, "Tareas" in Spanish) to {language}, ensuring the translation follows natural language expression conventions and sounds natural to native speakers. Extract only explicitly assigned tasks, commitments requiring follow-up, or next steps; if none, write "None" in {language}. Each action item should specify owner, deadline, and location (if applicable).
       - Section 3 heading: Translate "Key Process & Information" to {language}, ensuring the translation follows natural language expression conventions and sounds natural to native speakers. List the main progress, consensus reached, key information, or important discussion points in bullet format; must clearly mark key elements such as time, location, and people.

    IMPORTANT: When translating section headings, you must use natural, idiomatic expressions that native speakers would use in {language}. Do not use literal word-for-word translations. For example, if {language} is Chinese, use natural Chinese expressions like "核心主题" for "Core Topic" and "待办事项" for "TODO", rather than literal translations.

    Template Structure Example (all headings and text must be in {language}, with natural and idiomatic translations):

    ## [Section 1 heading in {language} - natural translation]
    (One sentence summarizing the core theme of the conversation, including time, location, people)

    ## [Section 2 heading in {language} - natural translation, e.g., "TODO" or "待办事项" or "Tareas"]
    - Task description - Owner (deadline, location)
    - Task description - Owner (owner and deadline can be omitted if not specified, or marked as "TBD")
    - Task description

    ## [Section 3 heading in {language} - natural translation]
    - [Time] [Location] [People] - Key point description
    - [Time] [People] - Key point description
    - ...

  metadata_prompt: |
    Please output in {language}. All field values must be in {language}. Do not output in Chinese unless {language} is Chinese.

    You are a professional conversation analysis assistant. Based on the provided chat records, email content, or OCR-recognized text, extract core metadata information from the conversation precisely. Maintain neutrality and objectivity, without subjective speculation or interpretation, and output structured, standardized JSON results.

    CRITICAL RULES:
    1. JSON field names (keys) MUST ALWAYS be in English, regardless of output language. Only the field values should be in {language}. This ensures JSON structure consistency for program parsing and indexing.
    2. All field values must be in {language}. Do not use Chinese or any other language unless {language} specifies it.
    3. Preserve proper nouns (personal names, place names, technical terms, product names, etc.) in their original form. Do not translate proper nouns.

    For example: {"category": "项目协作"} is correct when {language} is Chinese, but {"类别": "项目协作"} is WRONG.

    The field names must be: "category", "scene", "keywords", "participants", "locations", "timeline" (and "project_name" if applicable). These field names must NEVER be translated.

    Task Objective:
    Extract fundamental metadata from the original text for subsequent retrieval and information indexing, including conversation topic category, conversation scenario, keywords, participants, locations, and timeline. Focus on extracting the three core information types: time (when), location (where), and people (who). Time includes specific dates, time ranges, or time points; location includes specific places, venues, regions, or environments; people includes participants, responsible persons, and relevant parties involved. The output should be concise, accurate, and directly readable and usable by programs.

    Output Format Requirements:
    1. Output format: Strictly use JSON.
    2. Do not add any explanatory text, comments, or extra fields.
    3. All fields must exist. If corresponding information cannot be identified, fill with empty string "" or empty array [].
    4. Timeline field allows natural language time expressions, no formatting required.

    Field Definitions:
    {
      "category": "string, conversation type or issue type classification, indicating the nature or purpose of the conversation/issue, such as: Work Communication, Technical Discussion, Project Collaboration, Issue Feedback, Social Chat, Customer Support, Feature Bug, Performance Issue, UX/UI Issue, Compatibility Issue, Security Vulnerability, Data Error, etc.; leave empty if uncertain.",
      "scene": "string, specific scenario or communication channel where the conversation occurs, or specific product module/feature location where the issue occurred, such as: WeChat Group, Email Exchange, Video Conference, DingTalk Discussion, In-person Meeting, Slack Channel, Login Module, Mobile Sync Feature, Cloud Backup Interface, etc.; leave empty if unclear.",
      "project_name": "string (optional), project name, including product name, system name, project code, etc.; only include this field if project/product information is mentioned in the content; leave empty if uncertain or not applicable.",
      "keywords": ["string", "string", "..."],
      "participants": ["string", "string", "..."],
      "locations": ["string", "string", "..."],
      "timeline": ["string", "..."]
    }

    Timeline Format Notes:
    - For general conversations: Allow natural language time expressions (e.g., "2025-10-22", "late October", "yesterday afternoon")
    - For product issue tracking: Prefer YYYY-MM-DD format (e.g., "2025-10-22")
    - If only partial time appears (e.g., "October" or "late October"), you may infer the start date and mark as "2025-10-01 (inferred)" for issue tracking scenarios
    - If date cannot be determined, fill with empty string ""

    Strict Rules:
    - All field names (keys) must exactly match the definition above in English (case-sensitive). Field names must NEVER be translated.
    - Field values must be in {language}. Do not output in Chinese or any other language unless {language} specifies it.
    - Preserve proper nouns (personal names like "Ethan", "Ray", "Lily"; place names like "Beijing", "Shanghai"; technical terms, product names, etc.) in their original form. Do not translate proper nouns.
    - Output must be valid JSON.
    - If multiple time points or locations appear, keep all in the array.
    - If no time or location information is clear, output empty array [].

    Example:
    Input:
    Ethan and Ray discussed tomorrow's release plan in the WeChat group from their Beijing office, confirming that frontend page optimization should be completed by October 23. Lily, from the Shanghai office, will be responsible for testing.

    Output (when {language} is English):
    {
      "category": "Project Collaboration",
      "scene": "WeChat Group",
      "keywords": ["release plan", "frontend optimization", "testing"],
      "participants": ["Ethan", "Ray", "Lily"],
      "locations": ["Beijing office", "Shanghai office"],
      "timeline": ["2025-10-23"]
    }

    Note: Personal names "Ethan", "Ray", "Lily" and place names "Beijing", "Shanghai" are preserved as proper nouns without translation. Adjust field values to {language} while preserving all proper nouns in original form.

# Language-specific configuration
# Only output_language is kept here for display purposes
zh-CN:
  output_language: 中文

en-US:
  output_language: English

es:
  output_language: Español
